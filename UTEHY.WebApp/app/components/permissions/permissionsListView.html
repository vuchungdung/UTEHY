<style>
    .table > tbody > tr > td {
        padding: 8px 20px;
    }

    .table > thead:first-child > tr:first-child > th {
        padding: 8px 20px;
    }
    li{
        list-style:none;
    }
</style>
<div class="page-header">
    <div class="page-header-content">
        <div class="page-title" style="padding: 10px;">
            <h4>
                <i class="icon-arrow-left52 position-left"></i>
                <span>Hệ thống - Phân quyền</span>
                <small class="display-block" style="font-size:12px">Quản lý hệ thống <i class="icon-arrow-right22"></i> Phân quyền</small>
            </h4>
            <a class="heading-elements-toggle"><i class="icon-more"></i></a>
        </div>

        <div class="heading-elements">
            <div class="heading-btn-group">
            </div>
        </div>
    </div>
</div>
<div class="page-container">
    <div class="row">
        <div class="panel panel-flat">
            <div class="panel-heading" style="padding-top:10px; padding-bottom:0px">
                <h6 class="panel-title">CHỨC NĂNG</h6>
            </div>
            <div class="container-fluid">
                <div class="form-group" style="margin-bottom :20px">
                    <div class="row">
                        <div class="col-md-2" style="text-align:right;margin-top:10px">
                            <span>Tên danh mục:</span>
                        </div>
                        <div class="col-md-4" style="text-align:left">
                            <input type="text" ng-change="searchPermissions()" class="form-control" ng-model="keyword" placeholder="Nhập nội dung cần tìm...">
                        </div>
                        <div class="col-md-6" style="text-align:left">
                            <button type="button" style="font-size:10px;" class="btn btn-success btn-sm"><i class="icon-plus3" style="font-size:13px;padding-right:8px"></i>Lưu lại</button>
                            <button type="button" ng-click="deleteMultiple()" id="btnDelete" style="font-size:10px;" class="btn btn-danger btn-sm" disabled><i class="icon-bin" style="font-size:13px;padding-right:8px"></i>Làm mới</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-flat">
            <div class="panel-heading" style="padding-top:10px; padding-bottom:10px">
                <h6 class="panel-title">PHÂN QUYỀN NHÓM NGƯỜI DÙNG</h6>
                <div class="heading-elements">
                    <select ng-change="loadDataPermissions(roleId)" name="roleId" class="form-control" ng-model="roleId" ng-options="option.Id as option.Name for option in listRole">
                        <option value="0">Nhóm quyền</option>
                    </select>
                    <input type="hidden" name="roleId" ng-model="roleId" />
                </div>
            </div>
            <div class="container-fluid">
                <div class="table-responsive">
                    <table class="table table-bordered table-framed" style="margin-bottom:20px">
                        <thead>
                            <tr>
                                <th class="text-center" style="width:16%">Chức năng</th>
                                <th class="text-center" style="width:80%">Nghiệp vụ của chức năng</th>
                            </tr>
                        </thead>
                        <tbody ng-repeat="item in commandview">
                            <tr>
                                <td class="text-bold text-uppercase text-center">{{item.Name}}</td>
                                <td class="row">
                                    <div class="col-md-3" ng-repeat="child in item.children">
                                        <div>
                                            <span class="text-bold">Quản lý {{child.Name}}</span>
                                        </div>
                                        <ul>
                                            <li ng-if="child.HasCreate == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'CREATE')">
                                                <span >Thêm mới</span>
                                            </li>
                                            <li ng-if="child.HasUpdate == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'UPDATE')">
                                                <span >Chỉnh sửa</span>
                                            </li>
                                            <li ng-if="child.HasDelete == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'DELETE')">
                                                <span >Xóa bỏ</span>
                                            </li>
                                            <li ng-if="child.HasView == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'VIEW')">
                                                <span >Truy cập</span>
                                            </li>
                                            <li ng-if="child.HasApprove == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'APPROVE')">
                                                <span >Duyệt bài</span>
                                            </li>
                                            <li ng-if="child.HasApprove == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'IMPORT')">
                                                <span >Nhập File</span>
                                            </li>
                                            <li ng-if="child.HasApprove == true">
                                                <input type="checkbox" ng-checked="checkedCommand(child.FunctionId,'EXPORT')">
                                                <span >Xuất File</span>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>                                                     
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
